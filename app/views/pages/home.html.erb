<div class="container-fluid d-flex align-items-center justify-content-center full-height">
  <div class="row justify-content-center w-100">
    <div class="col-12">
      <% if user_signed_in? %>
        <div class="">
          <p class="lead welcome">Bienvenue <%= current_user.user_name %>!</p>

          <div class="card m-3">
            <div class="card-body custom-background">
              <h2 class="card-title text-center">Choisissez vos préférences de café</h2>

                <%= form_with(url: coffees_path, method: :get, local: true, class: "mt-3") do |form| %>
                  <div class="form-group">
                    <%= form.label :machin_type, "Quel type de Machine utilises-tu ?" %><br>
                    <div class="tag-wrapper">
                      <% Coffee::MACHINS_TYPE.each do |machin_type| %>
                       <div class="tag-item">
                         <%= form.radio_button :machin_type, machin_type %>
                         <%= form.label :machin_type, machin_type %>
                       </div>
                      <% end %>
                    </div>
                  </div>


                  <div class="form-group">
                    <%= form.label :coffee_type, " Quel Type de café préfères-tu ?" %><br>
                    <div class="tag-wrapper">
                      <% Coffee::COFFEES_TYPE.each do |coffee_type| %>
                      <div class="tag-item">
                        <%= form.radio_button :coffee_type, coffee_type %>
                        <%= form.label :coffee_type, coffee_type %>
                      </div>
                    <% end %>
                    </div>
                  </div>



                  <% if current_user.intermediaire? || current_user.avance? %>
                    <div class="form-group">
                      <%= form.label :coffee_origin, "Quelle Origine de café aimes-tu ?" %><br>
                      <div class="tag-wrapper">
                      <% Coffee::ORIGINS.each do |origin| %>
                        <div class="tag-item">
                          <%= form.radio_button :origin, origin %>
                          <%= form.label :coffee_origin, origin %>
                        </div>
                      <% end %>
                      </div>
                    </div>
                  <% end %>
                  <% if current_user.avance? %>
                    <div class="form-group">
                      <%= form.label :brewing_method, "Quelle est ta méthode de préparation préférée ?" %><br>
                      <div class="tag-wrapper">
                        <% Coffee::BREWING_METHODS.each do |brewing_method| %>
                        <div class="tag-item">
                          <%= form.radio_button :brewing_method, brewing_method %>
                          <%= form.label :brewing_method, brewing_method %>
                        </div>
                        <% end %>
                      </div>
                    </div>
                  <% end %>
                  <div class="form-group mb-4">
                    <%= form.submit "Enregistrer", class: "btn btn-custom" %>
                    <%= link_to "Remettre à plus tard", coffees_path, class: "btn btn-secondary btn-custom ml-2" %>
                  </div>
                <% end %>
            </div>
          </div>
        </div>
      <% else %>
        <div class="home-page-unauthenticated">

          <!-- Contenu pour les utilisateurs non connectés -->
          <div class="home-page-unauthenticated">
            <div class="unconnect">
              <h1>Bienvenue</h1>
              <p class="lead">Vous n'êtes pas connecté.</p>
              <%= link_to 'S\'inscrire', new_user_registration_path, class: "mr-2 btn-custom p-2" %>
              <%= link_to 'Se connecter', new_user_session_path, class: "btn-custom p-2" %>
            </div>
          </div>
      <% end %>
    </div>
  </div>
</div>
